---
title: "Apache Camel Ã— AI â€• ã‚µãƒ¼ãƒ“ãƒ³ã‚°ã«ã‚ˆã‚‹æ¨è«– #3: KServe"
emoji: "ğŸª"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ai", "æ©Ÿæ¢°å­¦ç¿’", "kubeflow", "camel", "mlops"]
published: false
---
![Camel AI](https://storage.googleapis.com/zenn-user-upload/2f89c845b33c-20250210.jpg =300x)

## KServeã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

## æº–å‚™



### ãƒ¢ãƒ‡ãƒ«ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯

ã¾ãšã€ãƒ¢ãƒ‡ãƒ«ãŒæ¨è«–å¯èƒ½ãªçŠ¶æ…‹ã«ã‚ã‚‹ã‹ã©ã†ã‹ã‚’æ¬¡ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ç¢ºèªã§ãã¾ã™ã€‚MNISTãƒ¢ãƒ‡ãƒ«ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚

```uri
tensorflow-serving:model-status?modelName=mnist&modelVersion=1
```

```java:model_status.java
//DEPS org.apache.camel:camel-bom:4.10.0@pom
//DEPS org.apache.camel:camel-core
//DEPS org.apache.camel:camel-tensorflow-serving

import org.apache.camel.builder.RouteBuilder;

public class model_status extends RouteBuilder {
    @Override
    public void configure() throws Exception {
        from("timer:model-status?repeatCount=1")
            .to("tensorflow-serving:model-status?modelName=mnist&modelVersion=1")
            .log("Status: ${body.getModelVersionStatus(0).state}");
    }
}
```

Camel CLIã‹ã‚‰ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚

```console
camel run model_status.java
```

æˆåŠŸã™ã‚Œã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«MNISTãƒ¢ãƒ‡ãƒ«ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã§ãã¾ã™ã€‚

```console
Status: AVAILABLE
```

## ã¾ã¨ã‚

TorchServeã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¼•ãç¶šãã€æœ€æ–°ã®Camel 4.10.0 LTSãƒªãƒªãƒ¼ã‚¹ã§ä½¿ãˆã‚‹AIãƒ¢ãƒ‡ãƒ«ã‚µãƒ¼ãƒ“ãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®1ã¤ã€TensorFlow Servingã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ©Ÿèƒ½ã‚’ä¸€é€šã‚Šè¦‹ã¦ãã¾ã—ãŸã€‚

TensorFlow Servingã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ãˆã°ã€Camelã‚’ãƒ™ãƒ¼ã‚¹ã«æ§‹ç¯‰ã—ãŸã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«TensorFlowã§å­¦ç¿’ã—ãŸAIãƒ¢ãƒ‡ãƒ«ã‚’ç°¡å˜ã«å–ã‚Šå…¥ã‚Œã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚TensorFlowãƒ™ãƒ¼ã‚¹ã®å‰µé€ çš„ãªAIã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®å¯èƒ½æ€§ãŒåºƒãŒã‚Šã¾ã™ã€‚

æ¬¡å›ã¯ã€æœ€å¾Œã«KServeã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

ä»Šå›ç´¹ä»‹ã—ãŸCamelÃ—AIã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã€ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚

https://github.com/megacamelus/camel-ai-examples
